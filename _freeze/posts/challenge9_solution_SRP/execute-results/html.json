{
  "hash": "5d35589379e04315571d36ef22766c3c",
  "result": {
    "markdown": "---\ntitle: \"Challenge 9 Solution\"\nauthor: \"Susannah Reed Poland\"\ndescription: \"Creating a function\"\ndate: \"6/12/2023\"\nformat:\n  html:\n    df-print: paged\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_9\n  - Susannah Reed Poland\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(readxl)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Create a function that reads in and cleans a dataset\n\nI chose to create a function that changes a column of year and quarter characters to dates, and removes the old column. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#create a function called \"read_debt\", f is the file name and by default is false\nread_debt<-function(f){\n#read in the data file\n  d<-read_excel(f)%>%\n#change the \"year and quarter\" to a date format\n    mutate(date_orig = parse_date_time(`Year and Quarter`, orders=\"yq\"))%>%\n#remove the old column\n  select(-`Year and Quarter`)\n  return(d)\n}\n```\n:::\n\n\nNow we can apply this to the \"Debt in Trillions\" dataset: \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#apply function\ndebt_date<-read_debt(\"_data/debt_in_trillions.xlsx\")\n\n#check it out!\ndebt_date\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"Mortgage\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"HE Revolving\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Auto Loan\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Credit Card\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Student Loan\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Other\"],\"name\":[6],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"Total\"],\"name\":[7],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"date_orig\"],\"name\":[8],\"type\":[\"dttm\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"4.942\",\"2\":\"0.2420\",\"3\":\"0.6410\",\"4\":\"0.6880\",\"5\":\"0.2407000\",\"6\":\"0.4776\",\"7\":\"7.23130\",\"8\":\"2003-01-01\"},{\"1\":\"5.080\",\"2\":\"0.2600\",\"3\":\"0.6220\",\"4\":\"0.6930\",\"5\":\"0.2429000\",\"6\":\"0.4860\",\"7\":\"7.38390\",\"8\":\"2003-04-01\"},{\"1\":\"5.183\",\"2\":\"0.2690\",\"3\":\"0.6840\",\"4\":\"0.6930\",\"5\":\"0.2488000\",\"6\":\"0.4773\",\"7\":\"7.55510\",\"8\":\"2003-07-01\"},{\"1\":\"5.660\",\"2\":\"0.3020\",\"3\":\"0.7040\",\"4\":\"0.6980\",\"5\":\"0.2529000\",\"6\":\"0.4486\",\"7\":\"8.06550\",\"8\":\"2003-10-01\"},{\"1\":\"5.840\",\"2\":\"0.3280\",\"3\":\"0.7200\",\"4\":\"0.6950\",\"5\":\"0.2598000\",\"6\":\"0.4465\",\"7\":\"8.28930\",\"8\":\"2004-01-01\"},{\"1\":\"5.967\",\"2\":\"0.3670\",\"3\":\"0.7430\",\"4\":\"0.6970\",\"5\":\"0.2629000\",\"6\":\"0.4231\",\"7\":\"8.46000\",\"8\":\"2004-04-01\"},{\"1\":\"6.210\",\"2\":\"0.4260\",\"3\":\"0.7510\",\"4\":\"0.7060\",\"5\":\"0.3300000\",\"6\":\"0.4100\",\"7\":\"8.83300\",\"8\":\"2004-07-01\"},{\"1\":\"6.360\",\"2\":\"0.4680\",\"3\":\"0.7280\",\"4\":\"0.7170\",\"5\":\"0.3457000\",\"6\":\"0.4229\",\"7\":\"9.04160\",\"8\":\"2004-10-01\"},{\"1\":\"6.512\",\"2\":\"0.5020\",\"3\":\"0.7250\",\"4\":\"0.7100\",\"5\":\"0.3636000\",\"6\":\"0.3941\",\"7\":\"9.20670\",\"8\":\"2005-01-01\"},{\"1\":\"6.696\",\"2\":\"0.5280\",\"3\":\"0.7740\",\"4\":\"0.7170\",\"5\":\"0.3744000\",\"6\":\"0.4024\",\"7\":\"9.49180\",\"8\":\"2005-04-01\"},{\"1\":\"6.906\",\"2\":\"0.5410\",\"3\":\"0.8300\",\"4\":\"0.7320\",\"5\":\"0.3777000\",\"6\":\"0.4054\",\"7\":\"9.79210\",\"8\":\"2005-07-01\"},{\"1\":\"7.102\",\"2\":\"0.5650\",\"3\":\"0.7920\",\"4\":\"0.7360\",\"5\":\"0.3917000\",\"6\":\"0.4155\",\"7\":\"10.00220\",\"8\":\"2005-10-01\"},{\"1\":\"7.436\",\"2\":\"0.5820\",\"3\":\"0.7880\",\"4\":\"0.7230\",\"5\":\"0.4345000\",\"6\":\"0.4183\",\"7\":\"10.38180\",\"8\":\"2006-01-01\"},{\"1\":\"7.760\",\"2\":\"0.5900\",\"3\":\"0.7960\",\"4\":\"0.7390\",\"5\":\"0.4389000\",\"6\":\"0.4232\",\"7\":\"10.74710\",\"8\":\"2006-04-01\"},{\"1\":\"8.045\",\"2\":\"0.6030\",\"3\":\"0.8210\",\"4\":\"0.7540\",\"5\":\"0.4467000\",\"6\":\"0.4417\",\"7\":\"11.11140\",\"8\":\"2006-07-01\"},{\"1\":\"8.234\",\"2\":\"0.6040\",\"3\":\"0.8210\",\"4\":\"0.7670\",\"5\":\"0.4816000\",\"6\":\"0.4057\",\"7\":\"11.31330\",\"8\":\"2006-10-01\"},{\"1\":\"8.422\",\"2\":\"0.6050\",\"3\":\"0.7940\",\"4\":\"0.7640\",\"5\":\"0.5064000\",\"6\":\"0.4039\",\"7\":\"11.49530\",\"8\":\"2007-01-01\"},{\"1\":\"8.706\",\"2\":\"0.6190\",\"3\":\"0.8070\",\"4\":\"0.7960\",\"5\":\"0.5140000\",\"6\":\"0.4078\",\"7\":\"11.84980\",\"8\":\"2007-04-01\"},{\"1\":\"8.925\",\"2\":\"0.6310\",\"3\":\"0.8180\",\"4\":\"0.8170\",\"5\":\"0.5285004\",\"6\":\"0.4130\",\"7\":\"12.13250\",\"8\":\"2007-07-01\"},{\"1\":\"9.101\",\"2\":\"0.6470\",\"3\":\"0.8150\",\"4\":\"0.8390\",\"5\":\"0.5475000\",\"6\":\"0.4221\",\"7\":\"12.37160\",\"8\":\"2007-10-01\"},{\"1\":\"9.234\",\"2\":\"0.6630\",\"3\":\"0.8080\",\"4\":\"0.8370\",\"5\":\"0.5792000\",\"6\":\"0.4153\",\"7\":\"12.53650\",\"8\":\"2008-01-01\"},{\"1\":\"9.273\",\"2\":\"0.6790\",\"3\":\"0.8100\",\"4\":\"0.8500\",\"5\":\"0.5863000\",\"6\":\"0.4008\",\"7\":\"12.59910\",\"8\":\"2008-04-01\"},{\"1\":\"9.294\",\"2\":\"0.6920\",\"3\":\"0.8090\",\"4\":\"0.8580\",\"5\":\"0.6109000\",\"6\":\"0.4115\",\"7\":\"12.67540\",\"8\":\"2008-07-01\"},{\"1\":\"9.257\",\"2\":\"0.7050\",\"3\":\"0.7910\",\"4\":\"0.8660\",\"5\":\"0.6393000\",\"6\":\"0.4116\",\"7\":\"12.66990\",\"8\":\"2008-10-01\"},{\"1\":\"9.135\",\"2\":\"0.7140\",\"3\":\"0.7660\",\"4\":\"0.8430\",\"5\":\"0.6628000\",\"6\":\"0.4088\",\"7\":\"12.52960\",\"8\":\"2009-01-01\"},{\"1\":\"9.063\",\"2\":\"0.7130\",\"3\":\"0.7430\",\"4\":\"0.8240\",\"5\":\"0.6754000\",\"6\":\"0.3888\",\"7\":\"12.40720\",\"8\":\"2009-04-01\"},{\"1\":\"8.944\",\"2\":\"0.7080\",\"3\":\"0.7390\",\"4\":\"0.8120\",\"5\":\"0.6945000\",\"6\":\"0.3815\",\"7\":\"12.27900\",\"8\":\"2009-07-01\"},{\"1\":\"8.843\",\"2\":\"0.7064\",\"3\":\"0.7219\",\"4\":\"0.7950\",\"5\":\"0.7213000\",\"6\":\"0.3785\",\"7\":\"12.16610\",\"8\":\"2009-10-01\"},{\"1\":\"8.834\",\"2\":\"0.6951\",\"3\":\"0.7047\",\"4\":\"0.7624\",\"5\":\"0.7578000\",\"6\":\"0.3629\",\"7\":\"12.11690\",\"8\":\"2010-01-01\"},{\"1\":\"8.703\",\"2\":\"0.6826\",\"3\":\"0.7022\",\"4\":\"0.7444\",\"5\":\"0.7617000\",\"6\":\"0.3491\",\"7\":\"11.94300\",\"8\":\"2010-04-01\"},{\"1\":\"8.609\",\"2\":\"0.6734\",\"3\":\"0.7100\",\"4\":\"0.7311\",\"5\":\"0.7782000\",\"6\":\"0.3427\",\"7\":\"11.84440\",\"8\":\"2010-07-01\"},{\"1\":\"8.452\",\"2\":\"0.6678\",\"3\":\"0.7110\",\"4\":\"0.7296\",\"5\":\"0.8118000\",\"6\":\"0.3410\",\"7\":\"11.71320\",\"8\":\"2010-10-01\"},{\"1\":\"8.544\",\"2\":\"0.6405\",\"3\":\"0.7056\",\"4\":\"0.6964\",\"5\":\"0.8392000\",\"6\":\"0.3287\",\"7\":\"11.75440\",\"8\":\"2011-01-01\"},{\"1\":\"8.516\",\"2\":\"0.6245\",\"3\":\"0.7130\",\"4\":\"0.6943\",\"5\":\"0.8514000\",\"6\":\"0.3303\",\"7\":\"11.72950\",\"8\":\"2011-04-01\"},{\"1\":\"8.402\",\"2\":\"0.6387\",\"3\":\"0.7304\",\"4\":\"0.6933\",\"5\":\"0.8702000\",\"6\":\"0.3266\",\"7\":\"11.66120\",\"8\":\"2011-07-01\"},{\"1\":\"8.268\",\"2\":\"0.6271\",\"3\":\"0.7341\",\"4\":\"0.7040\",\"5\":\"0.8736000\",\"6\":\"0.3300\",\"7\":\"11.53680\",\"8\":\"2011-10-01\"},{\"1\":\"8.187\",\"2\":\"0.6118\",\"3\":\"0.7365\",\"4\":\"0.6788\",\"5\":\"0.9036561\",\"6\":\"0.3185\",\"7\":\"11.43626\",\"8\":\"2012-01-01\"},{\"1\":\"8.147\",\"2\":\"0.5890\",\"3\":\"0.7500\",\"4\":\"0.6720\",\"5\":\"0.9140000\",\"6\":\"0.3120\",\"7\":\"11.38400\",\"8\":\"2012-04-01\"},{\"1\":\"8.028\",\"2\":\"0.5730\",\"3\":\"0.7680\",\"4\":\"0.6740\",\"5\":\"0.9560000\",\"6\":\"0.3110\",\"7\":\"11.31000\",\"8\":\"2012-07-01\"},{\"1\":\"8.033\",\"2\":\"0.5630\",\"3\":\"0.7830\",\"4\":\"0.6790\",\"5\":\"0.9660000\",\"6\":\"0.3170\",\"7\":\"11.34100\",\"8\":\"2012-10-01\"},{\"1\":\"7.932\",\"2\":\"0.5520\",\"3\":\"0.7940\",\"4\":\"0.6600\",\"5\":\"0.9860000\",\"6\":\"0.3070\",\"7\":\"11.23100\",\"8\":\"2013-01-01\"},{\"1\":\"7.841\",\"2\":\"0.5400\",\"3\":\"0.8140\",\"4\":\"0.6680\",\"5\":\"0.9940000\",\"6\":\"0.2960\",\"7\":\"11.15300\",\"8\":\"2013-04-01\"},{\"1\":\"7.897\",\"2\":\"0.5350\",\"3\":\"0.8450\",\"4\":\"0.6720\",\"5\":\"1.0270000\",\"6\":\"0.3040\",\"7\":\"11.28000\",\"8\":\"2013-07-01\"},{\"1\":\"8.049\",\"2\":\"0.5290\",\"3\":\"0.8630\",\"4\":\"0.6830\",\"5\":\"1.0800000\",\"6\":\"0.3170\",\"7\":\"11.52100\",\"8\":\"2013-10-01\"},{\"1\":\"8.165\",\"2\":\"0.5260\",\"3\":\"0.8750\",\"4\":\"0.6590\",\"5\":\"1.1110000\",\"6\":\"0.3140\",\"7\":\"11.65000\",\"8\":\"2014-01-01\"},{\"1\":\"8.096\",\"2\":\"0.5210\",\"3\":\"0.9050\",\"4\":\"0.6690\",\"5\":\"1.1180000\",\"6\":\"0.3230\",\"7\":\"11.63200\",\"8\":\"2014-04-01\"},{\"1\":\"8.131\",\"2\":\"0.5120\",\"3\":\"0.9340\",\"4\":\"0.6800\",\"5\":\"1.1260000\",\"6\":\"0.3270\",\"7\":\"11.71000\",\"8\":\"2014-07-01\"},{\"1\":\"8.170\",\"2\":\"0.5100\",\"3\":\"0.9550\",\"4\":\"0.7000\",\"5\":\"1.1570000\",\"6\":\"0.3350\",\"7\":\"11.82700\",\"8\":\"2014-10-01\"},{\"1\":\"8.171\",\"2\":\"0.5100\",\"3\":\"0.9680\",\"4\":\"0.6840\",\"5\":\"1.1890000\",\"6\":\"0.3290\",\"7\":\"11.85100\",\"8\":\"2015-01-01\"},{\"1\":\"8.116\",\"2\":\"0.4990\",\"3\":\"1.0060\",\"4\":\"0.7030\",\"5\":\"1.1900000\",\"6\":\"0.3390\",\"7\":\"11.85300\",\"8\":\"2015-04-01\"},{\"1\":\"8.260\",\"2\":\"0.4920\",\"3\":\"1.0450\",\"4\":\"0.7140\",\"5\":\"1.2030000\",\"6\":\"0.3510\",\"7\":\"12.06500\",\"8\":\"2015-07-01\"},{\"1\":\"8.249\",\"2\":\"0.4870\",\"3\":\"1.0640\",\"4\":\"0.7330\",\"5\":\"1.2320000\",\"6\":\"0.3510\",\"7\":\"12.11600\",\"8\":\"2015-10-01\"},{\"1\":\"8.369\",\"2\":\"0.4850\",\"3\":\"1.0710\",\"4\":\"0.7120\",\"5\":\"1.2610000\",\"6\":\"0.3540\",\"7\":\"12.25200\",\"8\":\"2016-01-01\"},{\"1\":\"8.362\",\"2\":\"0.4780\",\"3\":\"1.1030\",\"4\":\"0.7290\",\"5\":\"1.2590000\",\"6\":\"0.3560\",\"7\":\"12.28700\",\"8\":\"2016-04-01\"},{\"1\":\"8.350\",\"2\":\"0.4720\",\"3\":\"1.1350\",\"4\":\"0.7470\",\"5\":\"1.2790000\",\"6\":\"0.3670\",\"7\":\"12.35000\",\"8\":\"2016-07-01\"},{\"1\":\"8.480\",\"2\":\"0.4730\",\"3\":\"1.1570\",\"4\":\"0.7790\",\"5\":\"1.3100000\",\"6\":\"0.3770\",\"7\":\"12.57600\",\"8\":\"2016-10-01\"},{\"1\":\"8.627\",\"2\":\"0.4560\",\"3\":\"1.1670\",\"4\":\"0.7640\",\"5\":\"1.3440000\",\"6\":\"0.3670\",\"7\":\"12.72500\",\"8\":\"2017-01-01\"},{\"1\":\"8.691\",\"2\":\"0.4520\",\"3\":\"1.1900\",\"4\":\"0.7840\",\"5\":\"1.3440000\",\"6\":\"0.3780\",\"7\":\"12.83900\",\"8\":\"2017-04-01\"},{\"1\":\"8.743\",\"2\":\"0.4480\",\"3\":\"1.2130\",\"4\":\"0.8080\",\"5\":\"1.3570000\",\"6\":\"0.3860\",\"7\":\"12.95500\",\"8\":\"2017-07-01\"},{\"1\":\"8.882\",\"2\":\"0.4440\",\"3\":\"1.2210\",\"4\":\"0.8340\",\"5\":\"1.3780000\",\"6\":\"0.3890\",\"7\":\"13.14800\",\"8\":\"2017-10-01\"},{\"1\":\"8.939\",\"2\":\"0.4360\",\"3\":\"1.2290\",\"4\":\"0.8150\",\"5\":\"1.4070000\",\"6\":\"0.3850\",\"7\":\"13.21100\",\"8\":\"2018-01-01\"},{\"1\":\"8.999\",\"2\":\"0.4320\",\"3\":\"1.2380\",\"4\":\"0.8290\",\"5\":\"1.4050000\",\"6\":\"0.3900\",\"7\":\"13.29300\",\"8\":\"2018-04-01\"},{\"1\":\"9.140\",\"2\":\"0.4220\",\"3\":\"1.2650\",\"4\":\"0.8440\",\"5\":\"1.4420000\",\"6\":\"0.3990\",\"7\":\"13.51200\",\"8\":\"2018-07-01\"},{\"1\":\"9.124\",\"2\":\"0.4120\",\"3\":\"1.2740\",\"4\":\"0.8700\",\"5\":\"1.4570000\",\"6\":\"0.4070\",\"7\":\"13.54400\",\"8\":\"2018-10-01\"},{\"1\":\"9.244\",\"2\":\"0.4060\",\"3\":\"1.2800\",\"4\":\"0.8480\",\"5\":\"1.4860000\",\"6\":\"0.4040\",\"7\":\"13.66800\",\"8\":\"2019-01-01\"},{\"1\":\"9.406\",\"2\":\"0.3990\",\"3\":\"1.2970\",\"4\":\"0.8680\",\"5\":\"1.4780000\",\"6\":\"0.4120\",\"7\":\"13.86000\",\"8\":\"2019-04-01\"},{\"1\":\"9.437\",\"2\":\"0.3960\",\"3\":\"1.3150\",\"4\":\"0.8810\",\"5\":\"1.4980000\",\"6\":\"0.4250\",\"7\":\"13.95200\",\"8\":\"2019-07-01\"},{\"1\":\"9.557\",\"2\":\"0.3900\",\"3\":\"1.3310\",\"4\":\"0.9270\",\"5\":\"1.5080000\",\"6\":\"0.4320\",\"7\":\"14.14500\",\"8\":\"2019-10-01\"},{\"1\":\"9.713\",\"2\":\"0.3860\",\"3\":\"1.3460\",\"4\":\"0.8930\",\"5\":\"1.5350000\",\"6\":\"0.4270\",\"7\":\"14.30000\",\"8\":\"2020-01-01\"},{\"1\":\"9.776\",\"2\":\"0.3750\",\"3\":\"1.3430\",\"4\":\"0.8170\",\"5\":\"1.5370000\",\"6\":\"0.4180\",\"7\":\"14.26600\",\"8\":\"2020-04-01\"},{\"1\":\"9.861\",\"2\":\"0.3620\",\"3\":\"1.3600\",\"4\":\"0.8070\",\"5\":\"1.5460000\",\"6\":\"0.4170\",\"7\":\"14.35300\",\"8\":\"2020-07-01\"},{\"1\":\"10.043\",\"2\":\"0.3490\",\"3\":\"1.3740\",\"4\":\"0.8190\",\"5\":\"1.5550000\",\"6\":\"0.4190\",\"7\":\"14.55900\",\"8\":\"2020-10-01\"},{\"1\":\"10.160\",\"2\":\"0.3350\",\"3\":\"1.3820\",\"4\":\"0.7700\",\"5\":\"1.5840000\",\"6\":\"0.4130\",\"7\":\"14.64400\",\"8\":\"2021-01-01\"},{\"1\":\"10.442\",\"2\":\"0.3220\",\"3\":\"1.4150\",\"4\":\"0.7870\",\"5\":\"1.5700000\",\"6\":\"0.4210\",\"7\":\"14.95700\",\"8\":\"2021-04-01\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\nEt voila! \n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
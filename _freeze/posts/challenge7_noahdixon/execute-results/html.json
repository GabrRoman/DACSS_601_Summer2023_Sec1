{
  "hash": "e9b1d0e8de3589734cb194c7e9eeab3d",
  "result": {
    "markdown": "---\ntitle: \"Challenge 7\"\nauthor: \"Noah Dixon\"\ndescription: \"Visualizing Multiple Dimensions\"\ndate: \"6/17/2023\"\nformat:\n  html:\n    df-print: paged\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_7\n  - australian_marriage\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Read in data\n  \nUsing the read.csv function we can read the data into a data frame.\n\n\n::: {.cell}\n\n```{.r .cell-code}\naustralian_marriage <- read.csv(\"_data/australian_marriage_tidy.csv\")\naustralian_marriage\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"territory\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"resp\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"count\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"percent\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"New South Wales\",\"2\":\"yes\",\"3\":\"2374362\",\"4\":\"57.8\"},{\"1\":\"New South Wales\",\"2\":\"no\",\"3\":\"1736838\",\"4\":\"42.2\"},{\"1\":\"Victoria\",\"2\":\"yes\",\"3\":\"2145629\",\"4\":\"64.9\"},{\"1\":\"Victoria\",\"2\":\"no\",\"3\":\"1161098\",\"4\":\"35.1\"},{\"1\":\"Queensland\",\"2\":\"yes\",\"3\":\"1487060\",\"4\":\"60.7\"},{\"1\":\"Queensland\",\"2\":\"no\",\"3\":\"961015\",\"4\":\"39.3\"},{\"1\":\"South Australia\",\"2\":\"yes\",\"3\":\"592528\",\"4\":\"62.5\"},{\"1\":\"South Australia\",\"2\":\"no\",\"3\":\"356247\",\"4\":\"37.5\"},{\"1\":\"Western Australia\",\"2\":\"yes\",\"3\":\"801575\",\"4\":\"63.7\"},{\"1\":\"Western Australia\",\"2\":\"no\",\"3\":\"455924\",\"4\":\"36.3\"},{\"1\":\"Tasmania\",\"2\":\"yes\",\"3\":\"191948\",\"4\":\"63.6\"},{\"1\":\"Tasmania\",\"2\":\"no\",\"3\":\"109655\",\"4\":\"36.4\"},{\"1\":\"Northern Territory(b)\",\"2\":\"yes\",\"3\":\"48686\",\"4\":\"60.6\"},{\"1\":\"Northern Territory(b)\",\"2\":\"no\",\"3\":\"31690\",\"4\":\"39.4\"},{\"1\":\"Australian Capital Territory(c)\",\"2\":\"yes\",\"3\":\"175459\",\"4\":\"74.0\"},{\"1\":\"Australian Capital Territory(c)\",\"2\":\"no\",\"3\":\"61520\",\"4\":\"26.0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n### Briefly describe the data\n\n## Tidy Data (as needed)\n\nThis data set contains the results of a 2017 survey of Australians in which they were asked whether or not they are married. Currently, a row represents a country and a response type (yes or no). In order to tidy the data and prepare it for visualization, we need to pivot the data so that the yes and no responses become columns, and each country is represented by one case. We will also make the percentage column into two columns, for percentage yes and percentage no.\n\n\n::: {.cell}\n\n```{.r .cell-code}\naustralian_marriage <- australian_marriage %>%\n  pivot_wider(names_from = resp, values_from = c(count, percent)) \naustralian_marriage\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"territory\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"count_yes\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"count_no\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"percent_yes\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"percent_no\"],\"name\":[5],\"type\":[\"dbl\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"New South Wales\",\"2\":\"2374362\",\"3\":\"1736838\",\"4\":\"57.8\",\"5\":\"42.2\"},{\"1\":\"Victoria\",\"2\":\"2145629\",\"3\":\"1161098\",\"4\":\"64.9\",\"5\":\"35.1\"},{\"1\":\"Queensland\",\"2\":\"1487060\",\"3\":\"961015\",\"4\":\"60.7\",\"5\":\"39.3\"},{\"1\":\"South Australia\",\"2\":\"592528\",\"3\":\"356247\",\"4\":\"62.5\",\"5\":\"37.5\"},{\"1\":\"Western Australia\",\"2\":\"801575\",\"3\":\"455924\",\"4\":\"63.7\",\"5\":\"36.3\"},{\"1\":\"Tasmania\",\"2\":\"191948\",\"3\":\"109655\",\"4\":\"63.6\",\"5\":\"36.4\"},{\"1\":\"Northern Territory(b)\",\"2\":\"48686\",\"3\":\"31690\",\"4\":\"60.6\",\"5\":\"39.4\"},{\"1\":\"Australian Capital Territory(c)\",\"2\":\"175459\",\"3\":\"61520\",\"4\":\"74.0\",\"5\":\"26.0\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n## Visualization with Multiple Dimensions\n\nFirst, we will plot the number of yes reponses for each territory using a bar graph. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(australian_marriage, aes(x = str_wrap(territory, width = 10), y = count_yes, fill = territory)) +\n  geom_bar(stat = \"identity\") + \n  labs(title = \"Count of Yes Responses by Territory\", x = \"Territory\", y = \"Count Yes\") + \n  guides(fill = FALSE)\n```\n\n::: {.cell-output-display}\n![](challenge7_noahdixon_files/figure-html/plot yes reponses-1.png){width=672}\n:::\n:::\n\n\nWe can see from the graph there is a wide range of yes responses for the different territories, with New South Wales having the most responses (and likely the most married couples), and Northern Territory having the least. Since the territories likely vary greatly in population, let's now look at the percentage of yes responses in each territory as well. We can do this by adding the percent_yes dimension to the chart using the fill setting in the aes function.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(australian_marriage, aes(x = str_wrap(territory, width = 10), y = count_yes, fill = percent_yes)) +\n  geom_bar(stat = \"identity\") + \n  labs(title = \"Count of Yes Responses by Territory\", x = \"Territory\", y = \"Count Yes\", fill = \"Percent Votes Yes\")\n```\n\n::: {.cell-output-display}\n![](challenge7_noahdixon_files/figure-html/plot yes reponses with percent-1.png){width=672}\n:::\n:::\n\n\nWe can see from the updated graph that the Australian Capital Territory has the highest percentage of yes votes (and likely the highest percentage of married couples) despite having one of the fewest yes responses. This illustrates why looking at percentages is important when population sizes vary.\n\nSimilarly, we can create a chart that shows the count of no responses for each territory as well as the percentage of no responses in each territory using the fill setting in the aes function.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(australian_marriage, aes(x = str_wrap(territory, width = 10), y = count_no, fill = percent_no)) +\n  geom_bar(stat = \"identity\") + \n  labs(title = \"Count of No Responses by Territory\", x = \"Territory\", y = \"Count No\", fill = \"Percent Votes No\")\n```\n\n::: {.cell-output-display}\n![](challenge7_noahdixon_files/figure-html/plot no reponses with percent-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "challenge7_noahdixon_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
{
  "hash": "8425d7e294c690d23ab99876efe581d1",
  "result": {
    "markdown": "---\ntitle: \"Homework 2\"\nauthor: \"Srujan Kagitala\"\ndescription: \"Homework 2\"\ndate: \"7/1/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - hw2\n  - olympics\n  - srujan_kagitala\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(treemap)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Overview\n\nFor my final project, I would do exploratory analysis on the Olympics data right from the year it started in 1896 in Athena till 2016 in Rio de Janeiro.\n\n### Olympics\n\nOlympics is the most decorated sporting event in an athlete's career. The Olympics are the leading international sporting events featuring summer and winter sports competitions in which thousands of athletes from around the world participate in a variety of competitions. The Olympic Games are considered the world's foremost sports competition with more than 200 teams, representing sovereign states and territories, participating. The Olympic Games are normally held every four years, and since 1994, have alternated between the Summer and Winter Olympics every two years during the four-year period. The first, second, and third place finishers in each event receive Olympic medals: gold, silver, and bronze, respectively.\n\n## Dataset\n\nThe dataset I would use for this analysis is downloaded from\n[Kaggle](https://www.kaggle.com/datasets/samruddhim/olympics-althlete-events-analysis). \n\nThis dataset consists of Olympics data of over a century, from the year 1896 to 2016. Studying this dataset will help to understand the patterns followed in the games of Olympics, patterns of the most successful athletes and countries in their Olympics journey and much more!\n\n\n::: {.cell}\n\n```{.r .cell-code}\nolympics_data <- read_csv(\"_data/athlete_events_olympics.csv\")\nhead(olympics_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 15\n     ID Name      Sex     Age Height Weight Team  NOC   Games  Year Season City \n  <dbl> <chr>     <chr> <dbl>  <dbl>  <dbl> <chr> <chr> <chr> <dbl> <chr>  <chr>\n1     1 A Dijiang M        24    180     80 China CHN   1992…  1992 Summer Barc…\n2     2 A Lamusi  M        23    170     60 China CHN   2012…  2012 Summer Lond…\n3     3 Gunnar N… M        24     NA     NA Denm… DEN   1920…  1920 Summer Antw…\n4     4 Edgar Li… M        34     NA     NA Denm… DEN   1900…  1900 Summer Paris\n5     5 Christin… F        21    185     82 Neth… NED   1988…  1988 Winter Calg…\n6     5 Christin… F        21    185     82 Neth… NED   1988…  1988 Winter Calg…\n# ℹ 3 more variables: Sport <chr>, Event <chr>, Medal <chr>\n```\n:::\n:::\n\n\nThe data set has 271116 observations and 15 data points recorded per observation. Each observation records variables like ID, Name, Sex, Age, Height, Weight, Team, NOC, Games, Year, Season, City, Sport, Event, Medal.\n\nThe youngest and the oldest athlete that ever participated are 10 and 97 years of age respectively. Athletes from across the world compete in 765 events that happen across 66 sports. These happen in 2 Olympic seasons i.e Summer, Winter.\n\n## Data Cleaning\n\nThe dataset is mostly clean and we don't have to work around much. Although, for doing some analysis, we might need to create various subsets of data like medals, teams, etc, drop na values for a few variables and mutate new variables(Most of these can be done during the analysis). We need to convert categorical variables into factor to get overall summary across various variables. We don't need the \"ID\" column for our analysis as it only serves the purpose of a key.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nolympics_data <- olympics_data %>%\n  mutate_if(is_character, as.factor) %>%\n  select(-ID)\n\nmedals <- olympics_data %>%\n  filter(!is.na(Medal))\n\nsummary(olympics_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                       Name        Sex             Age            Height     \n Robert Tait McKenzie    :    58   F: 74522   Min.   :10.00   Min.   :127.0  \n Heikki Ilmari Savolainen:    39   M:196594   1st Qu.:21.00   1st Qu.:168.0  \n Joseph \"Josy\" Stoffel   :    38              Median :24.00   Median :175.0  \n Ioannis Theofilakis     :    36              Mean   :25.56   Mean   :175.3  \n Takashi Ono             :    33              3rd Qu.:28.00   3rd Qu.:183.0  \n Alexandros Theofilakis  :    32              Max.   :97.00   Max.   :226.0  \n (Other)                 :270880              NA's   :9474    NA's   :60171  \n     Weight                 Team             NOC                 Games       \n Min.   : 25.0   United States: 17847   USA    : 18853   2000 Summer: 13821  \n 1st Qu.: 60.0   France       : 11988   FRA    : 12758   1996 Summer: 13780  \n Median : 70.0   Great Britain: 11404   GBR    : 12256   2016 Summer: 13688  \n Mean   : 70.7   Italy        : 10260   ITA    : 10715   2008 Summer: 13602  \n 3rd Qu.: 79.0   Germany      :  9326   GER    :  9830   2004 Summer: 13443  \n Max.   :214.0   Canada       :  9279   CAN    :  9733   1992 Summer: 12977  \n NA's   :62875   (Other)      :201012   (Other):196971   (Other)    :189805  \n      Year         Season                   City               Sport       \n Min.   :1896   Summer:222552   London        : 22426   Athletics : 38624  \n 1st Qu.:1960   Winter: 48564   Athina        : 15556   Gymnastics: 26707  \n Median :1988                   Sydney        : 13821   Swimming  : 23195  \n Mean   :1978                   Atlanta       : 13780   Shooting  : 11448  \n 3rd Qu.:2002                   Rio de Janeiro: 13688   Cycling   : 10859  \n Max.   :2016                   Beijing       : 13602   Fencing   : 10735  \n                                (Other)       :178243   (Other)   :149548  \n                                 Event           Medal       \n Football Men's Football            :  5733   Bronze: 13295  \n Ice Hockey Men's Ice Hockey        :  4762   Gold  : 13372  \n Hockey Men's Hockey                :  3958   Silver: 13116  \n Water Polo Men's Water Polo        :  3358   NA's  :231333  \n Basketball Men's Basketball        :  3280                  \n Cycling Men's Road Race, Individual:  2947                  \n (Other)                            :247078                  \n```\n:::\n\n```{.r .cell-code}\nhead(olympics_data)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  Name      Sex     Age Height Weight Team  NOC   Games  Year Season City  Sport\n  <fct>     <fct> <dbl>  <dbl>  <dbl> <fct> <fct> <fct> <dbl> <fct>  <fct> <fct>\n1 A Dijiang M        24    180     80 China CHN   1992…  1992 Summer Barc… Bask…\n2 A Lamusi  M        23    170     60 China CHN   2012…  2012 Summer Lond… Judo \n3 Gunnar N… M        24     NA     NA Denm… DEN   1920…  1920 Summer Antw… Foot…\n4 Edgar Li… M        34     NA     NA Denm… DEN   1900…  1900 Summer Paris Tug-…\n5 Christin… F        21    185     82 Neth… NED   1988…  1988 Winter Calg… Spee…\n6 Christin… F        21    185     82 Neth… NED   1988…  1988 Winter Calg… Spee…\n# ℹ 2 more variables: Event <fct>, Medal <fct>\n```\n:::\n\n```{.r .cell-code}\nhead(medals)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 14\n  Name      Sex     Age Height Weight Team  NOC   Games  Year Season City  Sport\n  <fct>     <fct> <dbl>  <dbl>  <dbl> <fct> <fct> <fct> <dbl> <fct>  <fct> <fct>\n1 Edgar Li… M        34     NA     NA Denm… DEN   1900…  1900 Summer Paris Tug-…\n2 Arvo Oss… M        30     NA     NA Finl… FIN   1920…  1920 Summer Antw… Swim…\n3 Arvo Oss… M        30     NA     NA Finl… FIN   1920…  1920 Summer Antw… Swim…\n4 Juhamatt… M        28    184     85 Finl… FIN   2014…  2014 Winter Sochi Ice …\n5 Paavo Jo… M        28    175     64 Finl… FIN   1948…  1948 Summer Lond… Gymn…\n6 Paavo Jo… M        28    175     64 Finl… FIN   1948…  1948 Summer Lond… Gymn…\n# ℹ 2 more variables: Event <fct>, Medal <fct>\n```\n:::\n:::\n\n\n## Insights\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Type of medals won by teams.\nteams_medals_type <- medals %>%\n  group_by(NOC, Medal) %>%\n  summarise(count = n())\n\n#Total medals won by teams\nteams_medals_total <- medals %>%\n  group_by(NOC) %>%\n  summarise(total_medals = n()) %>%\n  arrange(desc(total_medals))\n\n#Top 50 countries(by total medals won) medal_type tally.\n(teams_medals_tally <- inner_join(teams_medals_type,\n                              teams_medals_total[1:50, ],\n                              by = \"NOC\") %>%\n    arrange(desc(total_medals)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 150 × 4\n# Groups:   NOC [50]\n   NOC   Medal  count total_medals\n   <fct> <fct>  <int>        <int>\n 1 USA   Bronze  1358         5637\n 2 USA   Gold    2638         5637\n 3 USA   Silver  1641         5637\n 4 URS   Bronze   689         2503\n 5 URS   Gold    1082         2503\n 6 URS   Silver   732         2503\n 7 GER   Bronze   746         2165\n 8 GER   Gold     745         2165\n 9 GER   Silver   674         2165\n10 GBR   Bronze   651         2068\n# ℹ 140 more rows\n```\n:::\n\n```{.r .cell-code}\n#Bar plot of medals won by top 50 countries.\nggplot(data = teams_medals_tally , aes(x= reorder(NOC, total_medals), y = count)) +\n  geom_bar(stat = \"identity\",\n           mapping = aes(fill = Medal),\n           position = \"stack\") +\n  labs(title =\"Top 50 countries that won most medals\",\n       y = \"No of medals\",\n       x = \"Nation of Origin\",\n       fill = \"Medal\")+\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](hw2_srujankagitala_files/figure-html/insight_1-1.png){width=672}\n:::\n:::\n\nWe can see that USA has won the highest number of medals, more than double the number of medals won by Soviet Union.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Sport with events count\n(sport_events <- olympics_data %>%\n  distinct(Sport, Event) %>%\n  group_by(Sport) %>%\n  summarise(no_events = n()) %>%\n  arrange(desc(no_events)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 66 × 2\n   Sport            no_events\n   <fct>                <int>\n 1 Athletics               83\n 2 Shooting                83\n 3 Swimming                55\n 4 Cycling                 44\n 5 Sailing                 38\n 6 Wrestling               30\n 7 Archery                 29\n 8 Art Competitions        29\n 9 Canoeing                27\n10 Gymnastics              27\n# ℹ 56 more rows\n```\n:::\n\n```{.r .cell-code}\n#Treemap representing each Sport proportional to number of events in olympics\ntreemap(sport_events,\n        index = \"Sport\",\n        vSize = \"no_events\",\n        type = \"index\",\n        fontsize.labels = 10,\n        fontcolor.labels = \"black\",\n        align.labels=list(\n          c(\"center\", \"center\")),\n        inflate.labels=F,\n        palette = \"Set1\",\n        title=\"Treemap representing each Sport proportional to number of events in olympics\",\n        fontsize.title=12)\n```\n\n::: {.cell-output-display}\n![](hw2_srujankagitala_files/figure-html/insight_2-1.png){width=672}\n:::\n:::\n\n\nAthletics and shooting are the sports with highest number of events (83 events each) followed by swimming with 55 events.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Age distribution among females and males in olympics.\nggplot(olympics_data, aes(x = Age, fill = Sex, na.rm = TRUE)) +\n  geom_density(adjust=2, alpha = 0.5) +\n  theme_linedraw() +\n  labs(title = \"Age distribution of atheletes in Olympics\",\n       x = \"Age\",\n       y = \"proportion\")\n```\n\n::: {.cell-output-display}\n![](hw2_srujankagitala_files/figure-html/insight_3-1.png){width=672}\n:::\n:::\n\n\nWe can see that the mean age of men athletes is higher than the mean age of women athletes.\nMost frequent age in men athletes is approximately equal to the most frequent age in women athletes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Times series for how top 10 nations performed over years.\nteams_medals_yearly <- medals %>%\n  filter(NOC %in% teams_medals_total[1:9,]$NOC) %>%\n  group_by(NOC, Year) %>%\n  summarise(total_medals = n()) %>%\n  arrange(NOC,Year)\n\nggplot(teams_medals_yearly,\n       aes(x= Year, y = total_medals)) + \n  geom_line() +\n  facet_wrap(~NOC, scales = \"free\") +\n  #scale_x_continuous(breaks = c(2015, 2016, 2017),\n                     #labels = c(\"2015\", \"2016\", \"2017\")) +\n  theme_linedraw()+\n  labs(title = \"Medals won over years by top 10 countries since 1896\",\n       x = \"Year\",\n       y = \"Number of medals\")\n```\n\n::: {.cell-output-display}\n![](hw2_srujankagitala_files/figure-html/insight_4-1.png){width=672}\n:::\n:::\n\n\n## Research Questions\n\n1. Is there an unbiased ranking system to determine the rankings of nations in Olympics? Can we rank different nations on varied ranking systems (different weightage for gold, silver and bronze) and observe how their ranks differ based on weightage given to gold, silver and bronze medals?\n2. Can we identify the most decorated athlete of all time, most decorated men and women athlete?\n3. Can we identify the age of men and women athletes where their performance is maximized? Does this differ for countries?\n4. Can we identify if there is a correlation of features like height/weight/age to a specific sports? (For example if height positively impacts basketball, age helps in shooting or athletics, etc.) Does it equally hold for both the genders?",
    "supporting": [
      "hw2_srujankagitala_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
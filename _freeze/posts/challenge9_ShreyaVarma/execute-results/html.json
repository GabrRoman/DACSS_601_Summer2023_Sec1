{
  "hash": "d5349045e89318ed984ab30a56c7fcea",
  "result": {
    "markdown": "---\ntitle: \"Challenge 9 Solution\"\nauthor: \"Shreya Varma\"\ndescription: \"Creating a function\"\ndate: \"7/10/2023\"\nformat:\n  html:\n    toc: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_9\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\nToday's challenge is simple. Create a function, and use it to perform a data analysis / cleaning / visualization task:\n\nExamples of such functions are:\n1) A function that reads in and cleans a dataset.  \n2) A function that computes summary statistics (e.g., computes the z score for a variable).  \n3) A function that plots a histogram.  \n\nThat's it!\n\nI will be using the Hotel Bookings dataset for my Challenge I have imported it using the read_csv() function and will use the glimpse() function the see the columns it has. On a high level it seems to have the information of hotel type and its customer data like arrival departure information, number of people, their booking details, payment type and reservation details. The data has 119,390 rows and 32 columns and seems to be captured from different hotels between 2015 to 2015 when people checked in and out.\n\nA lot of columns have values that are encoded and not easily understandable. Thus, I will create a function that makes my data more readable by replacing value in columns by more readable value. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nhotel_bookings <- read_csv(\"_data/hotel_bookings.csv\")\nhead(hotel_bookings)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 32\n  hotel        is_canceled lead_time arrival_date_year arrival_date_month\n  <chr>              <dbl>     <dbl>             <dbl> <chr>             \n1 Resort Hotel           0       342              2015 July              \n2 Resort Hotel           0       737              2015 July              \n3 Resort Hotel           0         7              2015 July              \n4 Resort Hotel           0        13              2015 July              \n5 Resort Hotel           0        14              2015 July              \n6 Resort Hotel           0        14              2015 July              \n# ℹ 27 more variables: arrival_date_week_number <dbl>,\n#   arrival_date_day_of_month <dbl>, stays_in_weekend_nights <dbl>,\n#   stays_in_week_nights <dbl>, adults <dbl>, children <dbl>, babies <dbl>,\n#   meal <chr>, country <chr>, market_segment <chr>,\n#   distribution_channel <chr>, is_repeated_guest <dbl>,\n#   previous_cancellations <dbl>, previous_bookings_not_canceled <dbl>,\n#   reserved_room_type <chr>, assigned_room_type <chr>, …\n```\n:::\n\n```{.r .cell-code}\nunique(hotel_bookings$meal)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"BB\"        \"FB\"        \"HB\"        \"SC\"        \"Undefined\"\n```\n:::\n\n```{.r .cell-code}\nreplace_values <- function(data, column_name, old_value, new_value) {\n  data[[column_name]][data[[column_name]] == old_value] <- new_value\n  return(data)\n}\n\nhotel_bookings <- replace_values(hotel_bookings,\"meal\",\"BB\", \"Bed and Breakfast\")\nhotel_bookings <- replace_values(hotel_bookings,\"meal\",\"HB\", \"Half Board\")\nhotel_bookings <- replace_values(hotel_bookings,\"meal\",\"FB\", \"Full Board\")\nhotel_bookings <- replace_values(hotel_bookings,\"meal\",\"SC\", \"Self Catering\")\n\n\n\n\nunique(hotel_bookings$meal)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Bed and Breakfast\" \"Full Board\"        \"Half Board\"       \n[4] \"Self Catering\"     \"Undefined\"        \n```\n:::\n\n```{.r .cell-code}\nunique(hotel_bookings$market_segment)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Direct\"        \"Corporate\"     \"Online TA\"     \"Offline TA/TO\"\n[5] \"Complementary\" \"Groups\"        \"Undefined\"     \"Aviation\"     \n```\n:::\n\n```{.r .cell-code}\nhotel_bookings <- replace_values(hotel_bookings,\"market_segment\",\"Online TA\", \"Online Travel Agent\")\nhotel_bookings <- replace_values(hotel_bookings,\"market_segment\",\"Offline TA/TO\", \"Offline Travel Agent/Tour Operator\")\n\nunique(hotel_bookings$market_segment)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"Direct\"                             \"Corporate\"                         \n[3] \"Online Travel Agent\"                \"Offline Travel Agent/Tour Operator\"\n[5] \"Complementary\"                      \"Groups\"                            \n[7] \"Undefined\"                          \"Aviation\"                          \n```\n:::\n:::\n\n\nThus I have replaced meal codes with their full forms and market segment short forms to make data more readable. The same can be done for other columns too using replace_values function.\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}